<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<title>è‹±æ¤œï¼“ç´š ç¾åœ¨å®Œäº† ç©´åŸ‹ã‚å•é¡Œ</title>

<style>
body{
  font-family:"Hiragino Maru Gothic ProN","Hiragino Maru Gothic",sans-serif;
  background:#fff9d6;
  text-align:center;
}

h1{ font-size:30px; }

.card{
  max-width:950px;
  margin:20px auto;
  padding:30px;
  background:white;
  border-radius:20px;
  border:3px solid #90caf9;
}

.progress{
  width:100%;
  height:20px;
  background:#ddd;
  border-radius:10px;
  margin-bottom:20px;
  overflow:hidden;
}
.progress-bar{
  height:100%;
  width:0%;
  background:#4caf50;
  transition:0.3s;
}

.info{ font-size:20px; }
.translation{ font-size:22px; margin:20px 0; }
.question{ font-size:28px; margin:20px 0; }

.choice-btn{
  font-size:26px;
  padding:16px 30px;
  margin:10px;
  border-radius:14px;
  border:2px solid #4caf50;
  background:#d8f5d0;
  cursor:pointer;
}

.control-area button{
  font-size:20px;
  padding:10px 18px;
  margin:8px;
  border-radius:12px;
  border:2px solid #64b5f6;
  background:#e3f2fd;
  cursor:pointer;
}

.result{ font-size:22px; min-height:30px; }

#printArea, #answerPage { display:none; }

@media print {

  body > * {
    display:none;
  }

  #printArea, #answerPage {
    display:block;
  }

  #printArea {
    padding:20px 55px;     /* å°‘ã—ä½™ç™½å¢—ã‚„ã™ */
    font-size:14.5px;      /* ã‚ãšã‹ã«å°ã•ã */
    line-height:1.85;
    text-align:left;
  }

  #printArea h2{
    text-align:left;
    font-size:15px;
    margin-bottom:20px;
  }

  .pdf-question{
    margin-bottom:20px;
  }

  .pdf-blank{
    display:inline-block;
    width:120px;          /* â˜… ï¼’å˜èªåˆ† */
    border-bottom:2px solid #000;
  }

  .page-break{
    page-break-before:always;
  }

  #answerPage{
    page-break-before:always;
    padding:20px 55px;
    text-align:left;
  }
}
</style>
</head>

<body>

<h1>è‹±æ¤œï¼“ç´š ç¾åœ¨å®Œäº† ç©´åŸ‹ã‚å•é¡Œ</h1>
<p>å…¨19å•ã‚ã‚Šã¾ã™ã€‚</p>

<div class="card">
<div class="info" id="info"></div>
<div class="translation" id="translation"></div>
<div class="question" id="question"></div>
<div id="choices"></div>

<div class="control-area">
<button onclick="checkAnswer()">âœ” ãƒã‚§ãƒƒã‚¯</button>
<button onclick="shuffleChoices()">ğŸ”€ ã‚·ãƒ£ãƒƒãƒ•ãƒ«</button>
<button onclick="nextQuestion()">â–¶ æ¬¡ã¸</button>
<button onclick="printPDF()">ğŸ–¨ PDF</button>
</div>

<div class="result" id="result"></div>
</div>

<!-- PDF -->
<div id="printArea">
<h2>è‹±æ¤œï¼“ç´š ç¾åœ¨å®Œäº† ç©´åŸ‹ã‚å•é¡Œ</h2>
<div id="printQuestions"></div>
</div>

<div id="answerPage">
<h2>ç­”ãˆ</h2>
<ol id="answerList"></ol>
</div>

<script>
const quiz = [
{jp:"ãƒãƒªãƒ¼ã¯6å¹´é–“ãšã£ã¨æ—¥æœ¬èªã‚’å‹‰å¼·ã—ã¦ã„ã¾ã™ã€‚",
en:"Nelly (                          ) studied Japanese for six years.",
choices:["was","were","has","have"],answer:"has"},
{jp:"ãƒ–ãƒ©ã‚¦ãƒ³å…ˆç”Ÿã¯20å¹´ä»¥ä¸Šè‹±èªã‚’æ•™ãˆã¦ã„ã¾ã™ã€‚",
en:"Mr. Brown has (                          ) English for more than 20 years.",
choices:["teach","teaches","teaching","taught"],answer:"taught"},
{jp:"ã‚¸ãƒ§ãƒ³ã¯ç´„4å¹´é–“ãƒ”ã‚¢ãƒã‚’ç¿’ã£ã¦ã„ã¾ã™ã€‚",
en:"John has taken piano lessons (                          ) about four years.",
choices:["in","for","over","at"],answer:"for"},
{jp:"ã‚ãªãŸã¯ä»Šã¾ã§ã«ãƒ‡ã‚£ã‚ºãƒ‹ãƒ¼ãƒ©ãƒ³ãƒ‰ã¸è¡Œã£ãŸã“ã¨ãŒã‚ã‚Šã¾ã™ã‹ï¼Ÿ",
en:"Have you ever (                          ) to Disneyland?",
choices:["went","gone","be","been"],answer:"been"},
{jp:"ç§ã¯ä»¥å‰ã«å½¼ã«ä¼šã£ãŸã“ã¨ãŒã‚ã‚Šã¾ã›ã‚“ã€‚",
en:"I haven't (                          ) him before.",
choices:["meeting","met","meet","meets"],answer:"met"},
{jp:"ç§ã¯ä»Šã¾ã§ä¸€åº¦ã‚‚å¹½éœŠã‚’è¦‹ãŸã“ã¨ãŒã‚ã‚Šã¾ã›ã‚“ã€‚",
en:"I (                          ) never seen a ghost.",
choices:["am","was","has","have"],answer:"have"},
{jp:"æ²–ç¸„ã®æµ·ã§æ³³ã„ã ã“ã¨ãŒã‚ã‚Šã¾ã™ã‹ï¼Ÿ",
en:"Have you (                          ) swum in the sea in Okinawa?",
choices:["already","before","ever","never"],answer:"ever"},
{jp:"ç§ã¯ä»Šã¾ã§ä¸€åº¦ã‚‚ã‚¹ã‚­ãƒ¼ã‚’ã—ãŸã“ã¨ãŒã‚ã‚Šã¾ã›ã‚“ã€‚",
en:"I have never skied (                          ).",
choices:["already","before","ever","yet"],answer:"before"},
{jp:"ãƒŠã‚¿ãƒªãƒ¼ã¯ä¸€åº¦ã‚‚ãƒ‘ãƒ³ãƒ€ã‚’è¦‹ãŸã“ã¨ãŒã‚ã‚Šã¾ã›ã‚“ã€‚",
en:"Natalie has (                          ) seen a panda.",
choices:["already","before","ever","never"],answer:"never"},
{jp:"ã‚¸ã‚§ãƒ¼ãƒ³ã¨ã‚±ãƒã‚¹ã¯ã‚‚ã†å¤•é£Ÿã‚’é£Ÿã¹ã¾ã—ãŸã€‚",
en:"Jane and Kenneth have already (                          ) dinner.",
choices:["having","has","had","have"],answer:"had"},
{jp:"ãƒ¡ã‚¢ãƒªãƒ¼ã¯ã¡ã‚‡ã†ã©å¸°ã£ã¦ããŸã¨ã“ã‚ã§ã™ã€‚",
en:"Mary has just (                          ) back.",
choices:["came","comes","come","coming"],answer:"come"},
{jp:"ç§ã¯ã¾ã å®¿é¡Œã‚’çµ‚ãˆã¦ã„ã¾ã›ã‚“ã€‚",
en:"I havenâ€™t (                          ) my homework yet.",
choices:["done","does","did","do"],answer:"done"},
{jp:"ãã®ãƒ‘ãƒ¼ãƒ†ã‚£ãƒ¼ã«ã¤ã„ã¦ã‚‚ã†èãã¾ã—ãŸã‹ï¼Ÿ",
en:"Have you (                          ) about the party yet?",
choices:["hearing","hears","hear","heard"],answer:"heard"},
{jp:"ã‚±ã‚¤ã‚·ãƒ£ã¯ã™ã§ã«ãƒ¬ãƒãƒ¼ãƒˆã‚’æ›¸ãçµ‚ãˆã¾ã—ãŸã€‚",
en:"Keisha has (                          ) finished her report.",
choices:["just","ever","yet","already"],answer:"already"},
{jp:"æ˜¼é£Ÿã«å¤§ããªãƒãƒ³ãƒãƒ¼ã‚¬ãƒ¼ã‚’é£Ÿã¹ãŸã¨ã“ã‚ã§ã™ã€‚",
en:"Iâ€™ve (                          ) had a large hamburger for lunch.",
choices:["just","ever","yet","already"],answer:"just"},
{jp:"ã‚‚ã†å®¿é¡Œã‚’ã—ã¾ã—ãŸã‹ï¼Ÿ",
en:"Have you done your homework (                          )?",
choices:["just","ever","yet","already"],answer:"yet"},
{jp:"ç§ã¯ã¾ã ãƒ—ãƒ¬ã‚¼ãƒ³ãƒˆã‚’é–‹ã‘ã¦ã„ã¾ã›ã‚“ã€‚",
en:"I havenâ€™t opened the present (                          ).",
choices:["just","ever","yet","already"],answer:"yet"},
{jp:"ã‚¸ã‚§ã‚·ã‚«ã¯å…ˆé€±ã®é‡‘æ›œæ—¥ã«ãƒ•ãƒ©ãƒ³ã‚¹ã¸è¡Œãã¾ã—ãŸã€‚",
en:"Jessica (                          ) to France last Friday.",
choices:["be","been","gone","went"],answer:"went"},
{jp:"ãƒ¢ãƒ‹ã‚«ã¯ãƒ‰ã‚¤ãƒ„ã«è¡Œã£ã¦ã—ã¾ã„ã¾ã—ãŸã€‚",
en:"Monica has (                          ) to Germany.",
choices:["gone","went","been","was"],answer:"gone"}
];

let current=0;
let selected="";

function loadQuestion(){
  const q=quiz[current];
  document.getElementById("info").innerHTML="Q"+(current+1)+" / 19";
  document.getElementById("translation").textContent=q.jp;
  document.getElementById("question").textContent=q.en;
  shuffleChoices();
}

function shuffleChoices(){
  const area=document.getElementById("choices");
  area.innerHTML="";
  let arr=[...quiz[current].choices].sort(()=>Math.random()-0.5);
  arr.forEach(c=>{
    const b=document.createElement("button");
    b.textContent=c;
    b.className="choice-btn";
    b.onclick=()=>insertChoice(c);
    area.appendChild(b);
  });
}

function insertChoice(word){
  selected=word;
  document.getElementById("question").textContent=
    quiz[current].en.replace("(                          )","( "+word+" )");
}

function checkAnswer(){
  if(selected===quiz[current].answer){
    document.getElementById("result").textContent="â­• Correct!";
    const u=new SpeechSynthesisUtterance(
      quiz[current].en.replace("(                          )",selected)
    );
    u.lang="en-US";
    u.rate=0.7;
    speechSynthesis.speak(u);
  }else{
    document.getElementById("result").textContent="âŒ Try again!";
  }
}

function nextQuestion(){
  document.getElementById("result").textContent="";
  if(current<quiz.length-1){
    current++;
    loadQuestion();
  }
}

function printPDF(){
  const qArea=document.getElementById("printQuestions");
  const answers=document.getElementById("answerList");
  qArea.innerHTML="";
  answers.innerHTML="";

  quiz.forEach((q,i)=>{
    if(i===9) qArea.innerHTML+=`<div class="page-break"></div>`;
    qArea.innerHTML+=`
      <div class="pdf-question">
        ${i+1}. ${q.jp}<br>
        ${q.en.replace("(                          )",
        '(<span class="pdf-blank"></span>)')}<br>
        ${q.choices.join(" / ")}
      </div>
    `;
    const li=document.createElement("li");
    li.textContent=q.answer;
    answers.appendChild(li);
  });

  window.print();
}

loadQuestion();
</script>

</body>
</html>
